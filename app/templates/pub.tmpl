{% extends "base.tmpl" %}

{% block title %}PMC {{ pub.pmc_id }} - CANDI Share Publication Portal{% endblock %}

{% block body %}

<p>
{% if pub.pmc_id %}
    PMC ID <a href="http://www.ncbi.nlm.nih.gov/pmc/articles/{{ pub.pmc_id }}">{{ pub.pmc_id }}</a>.
{% endif %}
</p>

<p>
{% if not pub.errors %}
    <p>No errors</p>
{% else %}
    <h2>Errors</h2>
    {% for error in pub.errors %}
        <p>{{ error }}</p>
    {% endfor %}
{% endif %}
</p>

<h2>Subject Groups</h2>
{% if not pub.subjectgroups %}
    <p>None</p>
{% else %}
    {% for sg in pub.subjectgroups.itervalues() %}
        <a name="sg_{{ sg.id }}"></a>
        {{ sg.id }}
        {% if not sg.errors %}
            <p>No errors.</p>
        {% else %}
            <p>Errors:</p>
            {% for error in sg.errors %}
                <p>{{ error }}</p>
            {% endfor %}
        {% endif %}
        <ul>
            <li>ID: {{ sg.id }}</li>
            <li>Diagnosis: {{ sg.diagnosis }}</li>
            <li>Subjects: {{ sg.n_subjects }}</li>
            <li>Age mean: {{ sg.age_mean }}</li>
            <li>Age SD: {{ sg.age_std }}</li>
        </ul>
    {% endfor %}
{% endif %}

<h2>Acquisition Instruments</h2>
{% if not pub.acquisitioninstruments %}
    <p>None</p>
{% else %}
    {% for ai in pub.acquisitioninstruments.itervalues() %}
        <a name="ai_{{ ai.id }}"></a>
        {{ ai.id }}
        {% if not ai.errors %}
            <p>No errors.</p>
        {% else %}
            <p>Errors:</p>
            {% for error in ai.errors %}
                <p>{{ error }}</p>
            {% endfor %}
        {% endif %}
        <ul>
            <li>ID: {{ ai.id }}</li>
            <li>Type: {{ ai.type }}</li>
            <li>Location: {{ ai.location }}</li>
            <li>Field: {{ ai.field }}</li>
            <li>Manufacturer: {{ ai.manufacturer }}</li>
            <li>Model: {{ ai.model }}</li>
        </ul>
    {% endfor %}
{% endif %}

<h2>Acquisitions</h2>
{% if not pub.acquisitions %}
    <p>None</p>
{% else %}
    {% for a in pub.acquisitions.itervalues() %}
        <a name="a_{{ a.id }}"></a>
        {{ a.id }}
        {% if not a.errors %}
            <p>No errors.</p>
        {% else %}
            <p>Errors:</p>
            {% for error in a.errors %}
                <p>{{ error }}</p>
            {% endfor %}
        {% endif %}
        <ul>
            <li>ID: {{ a.id }}</li>
            <li>Type: {{ a.type }}</li>
            {% if a.acquisitioninstrument %}
                <li>AcquisitionInstrument: <a href="#ai_{{ a.acquisitioninstrument }}">{{ a.acquisitioninstrument }}</a></li>
            {% else %}
            <li>AcquisitionInstrument: {{ a.acquisitioninstrument }}</li>
            {% endif %}
        </ul>
    {% endfor %}
{% endif %}

<h2>Data</h2>
{% if not pub.subjectgroups %}
    <p>None</p>
{% else %}
    {% for d in pub.data.itervalues() %}
        <a name="d_{{ d.id }}"></a>
        {{ d.id }}
        {% if not d.errors %}
            <p>No errors.</p>
        {% else %}
            <p>Errors:</p>
            {% for error in d.errors %}
                <p>{{ error }}</p>
            {% endfor %}
        {% endif %}
        <ul>
            <li>ID: {{ d.id }}</li>
            {% if d.subjectgroup %}
                <li>SubjectGroup: <a href="#sg_{{ d.subjectgroup }}">{{ d.subjectgroup }}</a></li>
            {% else %}
                <li>SubjectGroup: {{ d.subjectgroup }}</li>
            {% endif %}
            {% if d.acquisition %}
                <li>Acquisition: <a href="a_{{ d.acquisition }}">{{ d.acquisition }}</a></li>
            {% else %}
                <li>Acquisition: {{ d.acquisition }}</li>
            {% endif %}
            {% if d.url %}
                <li>URL: <a href="{{ d.url }}">{{ d.url }}</li>
            {% else %}
                <li>URL: {{ d.url }}</li>
            {% endif %}
            {% if d.doi %}
                <li>DOI: <a href="http://dx.doi.org/{{ d.doi }}">{{ d.doi }}</a></li>
            {% else %}
                <li>DOI: {{ d.doi }}</li>
            {% endif %}
        </ul>
    {% endfor %}
{% endif %}

<h2>Analysis Workflows</h2>
{% if not pub.analysisworkflows %}
    <p>None</p>
{% else %}
    {% for aw in pub.analysisworkflows.itervalues() %}
        <a name="aw_{{ aw.id }}"></a>
        {{ aw.id }}
        {% if not aw.errors %}
            <p>No errors.</p>
        {% else %}
            <p>Errors:</p>
            {% for error in aw.errors %}
                <p>{{ error }}</p>
            {% endfor %}
        {% endif %}
        <ul>
            <li>ID: {{ aw.id }}</li>
            <li>Method: {{ aw.method }}</li>
            <li>MethodURL: {{ aw.methodurl }}</li>
            <li>Software: {{ aw.software }}</li>
        </ul>
    {% endfor %}
{% endif %}

<h2>Observations</h2>
{% if not pub.observations %}
    <p>None</p>
{% else %}
    {% for o in pub.observations.itervalues() %}
        <a name="o_{{ o.id }}"></a>
        {{ o.id }}
        {% if not o.errors %}
            <p>No errors.</p>
        {% else %}
            <p>Errors:</p>
            {% for error in o.errors %}
                <p>{{ error }}</p>
            {% endfor %}
        {% endif %}
        <ul>
            <li>ID: {{ o.id }}</li>
            {% if o.data %}
                <li>Data: <a href="#d_{{ o.data }}">{{ o.data }}</a></li>
            {% else %}
                <li>Data: {{ o.data }}</li>
            {% endif %}
            {% if o.analysisworkflow %}
                <li>AnalysisWorkflow: <a href="#aw_{{ o.analysisworkflow }}">{{ o.analysisworkflow }}</a></li>
            {% else %}
                <li>AnalysisWorkflow: {{ o.analysisworkflow }}</li>
            {% endif %}
            <li>Meausure: {{ o.meausure }}</li>
        </ul>
    {% endfor %}
{% endif %}

<h2>Models</h2>
{% if not pub.models %}
    <p>None</p>
{% else %}
    {% for m in pub.models.itervalues() %}
        <a name="m_{{ m.id }}"></a>
        {{ m.id }}
        {% if not m.errors %}
            <p>No errors.</p>
        {% else %}
            <p>Errors:</p>
            {% for error in m.errors %}
                <p>{{ error }}</p>
            {% endfor %}
        {% endif %}
        <ul>
            <li>ID: {{ m.id }}</li>
            <li>Variables: {{ m.variables }}</li>
        </ul>
    {% endfor %}
{% endif %}

<h2>Model Applications</h2>
{% if not pub.modelapplications %}
    <p>None</p>
{% else %}
    {% for ma in pub.modelapplications.itervalues() %}
        <a name="ma_{{ ma.id }}"></a>
        {{ ma.id }}
        {% if not ma.errors %}
            <p>No errors.</p>
        {% else %}
            <p>Errors:</p>
            {% for error in ma.errors %}
                <p>{{ error }}</p>
            {% endfor %}
        {% endif %}
        <ul>
            <li>ID: {{ ma.id }}</li>
            {% if ma.observation %}
                <li>Observation: <a href="#o_{{ ma.observation }}">{{ ma.observation }}</a></li>
            {% else %}
                <li>Observation: {{ ma.observation }}</li>
            {% endif %}
            {% if ma.model %}
                <li>Model: <a href="#m_{{ ma.model }}">{{ ma.model }}</a></li>
            {% else %}
                <li>Model: {{ ma.model }}</li>
            {% endif %}
            <li>URL: {{ ma.url }}</li>
            <li>Software: {{ ma.software }}</li>
        </ul>
    {% endfor %}
{% endif %}

<h2>Results</h2>
{% if not pub.results %}
    <p>None</p>
{% else %}
    {% for r in pub.results.itervalues() %}
        <a name="r_{{ r.id }}"></a>
        {{ r.id }}
        {% if not r.errors %}
            <p>No errors.</p>
        {% else %}
            <p>Errors:</p>
            {% for error in r.errors %}
                <p>{{ error }}</p>
            {% endfor %}
        {% endif %}
        <ul>
            <li>ID: {{ r.id }}</li>
            {% if r.modelapplication %}
                <li>Model Application: <a href="#ma_{{ r.modelapplication }}">{{ r.modelapplication }}</a></li>
            {% else %}
                <li>Model Application: {{ r.modelapplication }}</li>
            {% endif %}
            <li>Value: {{ r.value }}</li>
            <li>Interaction Variables: {{ r.interactionvariables }}</li>
            <li>F: {{ r.f }}</li>
            <li>P: {{ r.p }}</li>
            <li>Interpretation: {{ r.interpretation }}</li>
        </ul>
    {% endfor %}
{% endif %}

{% endblock %}
